<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebForge - Math Library Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        .demo-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        h2 {
            margin-top: 0;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }
        .result {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }
        .success {
            color: #4ade80;
        }
        .info {
            color: #60a5fa;
        }
        canvas {
            display: block;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <h1>üöÄ WebForge</h1>
    <div class="subtitle">The Ultimate Web Game Development Platform</div>

    <div class="demo-section">
        <h2>üìê Vector2 Operations</h2>
        <div id="vector2-results"></div>
    </div>

    <div class="demo-section">
        <h2>üìä Vector3 Operations</h2>
        <div id="vector3-results"></div>
    </div>

    <div class="demo-section">
        <h2>üé® Visual Demo - Rotating Vectors</h2>
        <canvas id="demo-canvas" width="800" height="400"></canvas>
    </div>

    <script type="module">
        import { Vector2, Vector3 } from './src/index.ts';

        // Vector2 Demos
        const v2Results = document.getElementById('vector2-results');
        
        const v2a = new Vector2(3, 4);
        const v2b = new Vector2(1, 2);
        
        v2Results.innerHTML = `
            <div class="result">
                <div class="info">Vector2 Creation:</div>
                v2a = ${v2a.toString()}<br>
                v2b = ${v2b.toString()}
            </div>
            <div class="result">
                <div class="info">Basic Operations:</div>
                v2a + v2b = ${v2a.add(v2b).toString()}<br>
                v2a - v2b = ${v2a.subtract(v2b).toString()}<br>
                v2a * 2 = ${v2a.multiplyScalar(2).toString()}
            </div>
            <div class="result">
                <div class="info">Vector Properties:</div>
                Length of v2a = ${v2a.length().toFixed(3)}<br>
                Normalized v2a = ${v2a.normalize().toString()}<br>
                Angle of v2a = ${(v2a.angle() * 180 / Math.PI).toFixed(2)}¬∞
            </div>
            <div class="result">
                <div class="info">Advanced Operations:</div>
                Dot product = ${v2a.dot(v2b).toFixed(3)}<br>
                Cross product = ${v2a.cross(v2b).toFixed(3)}<br>
                Distance = ${v2a.distanceTo(v2b).toFixed(3)}
            </div>
        `;

        // Vector3 Demos
        const v3Results = document.getElementById('vector3-results');
        
        const v3a = new Vector3(1, 2, 3);
        const v3b = new Vector3(4, 5, 6);
        
        v3Results.innerHTML = `
            <div class="result">
                <div class="info">Vector3 Creation:</div>
                v3a = ${v3a.toString()}<br>
                v3b = ${v3b.toString()}
            </div>
            <div class="result">
                <div class="info">Basic Operations:</div>
                v3a + v3b = ${v3a.add(v3b).toString()}<br>
                v3a - v3b = ${v3a.subtract(v3b).toString()}<br>
                v3a * 3 = ${v3a.multiplyScalar(3).toString()}
            </div>
            <div class="result">
                <div class="info">Vector Properties:</div>
                Length of v3a = ${v3a.length().toFixed(3)}<br>
                Normalized v3a = ${v3a.normalize().toString()}<br>
                Distance = ${v3a.distanceTo(v3b).toFixed(3)}
            </div>
            <div class="result">
                <div class="info">Advanced Operations:</div>
                Dot product = ${v3a.dot(v3b).toFixed(3)}<br>
                Cross product = ${v3a.cross(v3b).toString()}<br>
                Lerp (t=0.5) = ${v3a.lerp(v3b, 0.5).toString()}
            </div>
            <div class="result success">
                ‚úÖ All Vector3 operations working correctly!
            </div>
        `;

        // Visual Demo - Rotating Vectors
        const canvas = document.getElementById('demo-canvas');
        const ctx = canvas.getContext('2d');
        
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        let angle = 0;
        
        function drawVector(v2, color, label) {
            const scale = 50;
            ctx.strokeStyle = color;
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + v2.x * scale, centerY - v2.y * scale);
            ctx.stroke();
            
            // Arrowhead
            const arrowSize = 10;
            const angle = Math.atan2(-v2.y, v2.x);
            ctx.beginPath();
            ctx.moveTo(centerX + v2.x * scale, centerY - v2.y * scale);
            ctx.lineTo(
                centerX + v2.x * scale - arrowSize * Math.cos(angle - Math.PI / 6),
                centerY - v2.y * scale + arrowSize * Math.sin(angle - Math.PI / 6)
            );
            ctx.lineTo(
                centerX + v2.x * scale - arrowSize * Math.cos(angle + Math.PI / 6),
                centerY - v2.y * scale + arrowSize * Math.sin(angle + Math.PI / 6)
            );
            ctx.closePath();
            ctx.fillStyle = color;
            ctx.fill();
            
            // Label
            ctx.fillStyle = color;
            ctx.font = 'bold 14px sans-serif';
            ctx.fillText(label, centerX + v2.x * scale + 15, centerY - v2.y * scale);
        }
        
        function animate() {
            // Clear canvas
            ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.lineWidth = 1;
            for (let i = -10; i <= 10; i++) {
                ctx.beginPath();
                ctx.moveTo(centerX + i * 50, 0);
                ctx.lineTo(centerX + i * 50, canvas.height);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(0, centerY + i * 50);
                ctx.lineTo(canvas.width, centerY + i * 50);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(canvas.width, centerY);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, canvas.height);
            ctx.stroke();
            
            // Create rotating vectors
            const v1 = Vector2.fromAngle(angle, 3);
            const v2 = Vector2.fromAngle(angle + Math.PI / 3, 2);
            const v3 = v1.add(v2);
            
            // Draw vectors
            drawVector(v1, '#60a5fa', 'v1');
            drawVector(v2, '#4ade80', 'v2');
            drawVector(v3, '#f59e0b', 'v1 + v2');
            
            angle += 0.02;
            requestAnimationFrame(animate);
        }
        
        animate();
    </script>
</body>
</html>
